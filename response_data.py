"""
Predefined response data for the Telegram bot
"""

def get_predefined_responses():
    """
    Return a dictionary of detailed predefined responses with canonical keys.
    The text has been updated to fix encoding issues.
    """
    return {
        # --- Detailed Product Information ---
        "what is filot": (
            "*FiLot* is a next-generation, AI-powered investment assistant that revolutionizes crypto investing. "
            "Currently in its beta phase, FiLot provides advanced market analysis and real-time insights to help you "
            "identify high-yield liquidity pools and make informed decisions.\n\n"
            "Key features include:\n"
            "• *Real-Time Analytics:* Constantly scans liquidity pools using both historical and live data.\n"
            "• *Automated Recommendations:* Offers tailored suggestions for optimal entry and exit points based on market conditions.\n"
            "• *Risk Management:* Evaluates pool stability and potential impermanent loss to help mitigate risks.\n"
            "• *User-Friendly Interface:* Designed for investors of all levels with intuitive commands and clear insights.\n"
            "• *Seamless Wallet Integration:* Easily connect your wallet to monitor and manage investments.\n\n"
            "Looking ahead, when FiLot fully launches, the platform will enable one-click investments via Telegram or through a dedicated FiLot app—making the process simple and hassle-free.\n\n"
            "With FiLot, you can potentially earn much more than by placing your money in a traditional bank."
        ),

        "what is la token": (
            "*LA!* Token is a community-driven meme coin that forms the cornerstone of the FiLot ecosystem. "
            "Inspired by Singapore's vibrant culture and recognized as a symbol of Asia's financial hub, LA! Token is not only a cryptocurrency—it's a token designed "
            "to unlock exclusive benefits within FiLot. A total of 1 billion tokens will be issued.\n\n"
            "*Key attributes include:*\n"
            "• *Token Supply:* Exactly 1 billion tokens will be issued, all allocated directly to the community with no reserved allocations for founders.\n"
            "• *Utility Integration:* Grants access to premium features, lower fees, and special investment opportunities on FiLot.\n"
            "• *Governance Rights:* Enables token holders to vote on key platform decisions and shape the project's future.\n"
            "• *Built on Solana:* Offers fast, secure, and low-cost transactions along with robust security measures.\n\n"
            "LA! Token empowers its holders and fosters a decentralized, community-first ecosystem while embracing the fun, meme-inspired culture.\n\n"
            "*Token Contract Address (CA):*\n`Bpz8btet2EVDzjjHZAaqwjTzE5p62H9Sb5RuKVNBpump`\n\n"
            "*Buy LA! Token:*\nhttps://pump.fun/coin/Bpz8btet2EVDzjjHZAaqwjTzE5p62H9Sb5RuKVNBpump"
        ),

        "what are la token's use cases": (
            "LA! Token serves several critical roles within the FiLot ecosystem:\n\n"
            "• *Access to Premium Features:* Unlocks advanced market analytics, investment simulations, and priority access to new liquidity pools.\n"
            "• *Staking and Yield Generation:* Earn rewards by staking your tokens, which also help secure the network.\n"
            "• *Governance Participation:* Vote on platform upgrades and strategic initiatives that determine FiLot's direction.\n"
            "• *Incentive Programs:* Benefit from exclusive promotions, bonus rewards, and loyalty incentives that boost community engagement.\n"
            "• *Collateral Use:* Potentially use LA! Token as collateral in DeFi protocols to unlock further investment opportunities.\n\n"
            "These diverse use cases make LA! Token both an investment asset and a key utility that drives the functionality of the FiLot ecosystem.\n\n"
            "*Token Contract Address (CA):*\n`Bpz8btet2EVDzjjHZAaqwjTzE5p62H9Sb5RuKVNBpump`\n\n"
            "*Buy LA! Token:*\nhttps://pump.fun/coin/Bpz8btet2EVDzjjHZAaqwjTzE5p62H9Sb5RuKVNBpump"
        ),

        "how can i benefit from la token": (
            "Holding LA! Token offers several benefits on the FiLot platform:\n\n"
            "• *Exclusive Access:* Unlock advanced investment tools and premium analytics available exclusively to token holders.\n"
            "• *Reduced Fees:* Enjoy discounted transaction fees and preferential rates on various platform services.\n"
            "• *Staking Rewards:* Earn passive income through staking programs designed for long-term holders.\n"
            "• *Governance Influence:* Participate in community votes to help steer the platform's development.\n"
            "• *Early Adopter Perks:* Receive bonus incentives and early access to future features as the ecosystem expands.\n\n"
            "Overall, LA! Token provides both immediate value and significant long-term growth potential within the FiLot ecosystem.\n\n"
            "*Token Contract Address (CA):*\n`Bpz8btet2EVDzjjHZAaqwjTzE5p62H9Sb5RuKVNBpump`\n\n"
            "*Buy LA! Token:*\nhttps://pump.fun/coin/Bpz8btet2EVDzjjHZAaqwjTzE5p62H9Sb5RuKVNBpump"
        ),

        "what makes la token unique": (
            "LA! Token is unique due to its community-driven, meme-inspired approach:\n\n"
            "• *True Community Ownership:* Every token is distributed directly to users, with no reserved allocations for insiders.\n"
            "• *Meme Culture & Symbolism:* Inspired by Singapore's vibrant culture and celebrated as a symbol of Asia's financial hub, it combines fun with financial utility.\n"
            "• *Deep Integration with FiLot:* Unlocks premium features and reduces fees within the FiLot investment assistant.\n"
            "• *Robust Security:* Built on the Solana blockchain with audited smart contracts and enforced liquidity locks to safeguard investments.\n"
            "• *Active Governance:* Empowers holders to participate in decisions that shape the platform's future.\n\n"
            "These elements create a digital asset that is both playful and purposeful, offering high utility and growth potential.\n\n"
            "*Token Contract Address (CA):*\n`Bpz8btet2EVDzjjHZAaqwjTzE5p62H9Sb5RuKVNBpump`\n\n"
            "*Buy LA! Token:*\nhttps://pump.fun/coin/Bpz8btet2EVDzjjHZAaqwjTzE5p62H9Sb5RuKVNBpump"
        ),

        "tell me about la token's launch": (
            "The launch of LA! Token is one of the most anticipated events in the FiLot ecosystem, officially set for March 31, 2025, on Pump.fun.\n\n"
            "*Key Launch Details:*\n\n"
            "*Launch Platform:* LA! Token will launch on Pump.fun.\n\n"
            "*Launch Timing:* March 31, 2025\n\n"
            "*Token Supply:* A total of 1,000,000,000 LA! Tokens will be issued.\n\n"
            "*Community-First Distribution:* 99% of tokens will be allocated directly to the community, ensuring fairness and broad participation.\n\n"
            "*Platform Integration:* The token launch paves the way for the upcoming release of FiLot's AI-powered tools and real-time analytics, scheduled for the end of Q2 2025.\n\n\n"
            "*Token Contract Address (CA):*\n`Bpz8btet2EVDzjjHZAaqwjTzE5p62H9Sb5RuKVNBpump`\n\n"
            "*Buy LA! Token:*\nhttps://pump.fun/coin/Bpz8btet2EVDzjjHZAaqwjTzE5p62H9Sb5RuKVNBpump"
        ),

        "when does filot launch": (
            "FiLot is currently in beta mode, providing advanced market analysis and investment insights.\n\n"
            "The full launch—which will introduce a one-click investment feature—will be available soon. This feature will be accessible either via Telegram or through a dedicated FiLot app.\n\n"
            "Stay tuned for official announcements regarding the exact launch date and additional functionalities."
        ),

        "what is the roadmap": (
            "The roadmap for FiLot and LA! Token outlines a dynamic plan focused on continuous innovation and community growth.\n\n"
            "*Key phases include:*\n"
            "• Pre-Launch: Final testing, security audits, and early community-building through beta programs and social media engagement.\n"
            "• *LA! Token Launch (31 March 2025):* Official debut of LA! Token with FiLot's (Beta) advanced features and 99% community distribution (with 1 billion tokens issued).\n"
            "• *Post-Launch Enhancements:* Ongoing updates to refine platform functionality, introduce new investment tools, and expand integration with other DeFi protocols.\n"
            "• *Governance Rollout:* Implementation of community voting mechanisms that allow LA! Token holders to influence strategic decisions.\n"
            "• *Ecosystem Expansion:* Formation of strategic partnerships to broaden the platform's reach and enhance its overall value.\n\n"
            "*Token Contract Address (CA):*\n`Bpz8btet2EVDzjjHZAaqwjTzE5p62H9Sb5RuKVNBpump`\n\n"
            "*Buy LA! Token:*\nhttps://pump.fun/coin/Bpz8btet2EVDzjjHZAaqwjTzE5p62H9Sb5RuKVNBpump"
        ),

        "security and governance": (
            "Security and governance are fundamental to the FiLot and LA! Token ecosystem.\n\n"
            "• *Security Measures:*\n"
            "   - *Blockchain Reliability:* Built on the Solana blockchain for high performance and robust security.\n"
            "   - *Audited Smart Contracts:* All contracts undergo thorough third-party audits to minimize vulnerabilities.\n"
            "   - *Liquidity Locks:* A portion of the liquidity is securely locked to maintain market stability and protect investors.\n"
            "   - *Continuous Monitoring:* Real-time oversight ensures rapid responses to potential risks.\n\n"
            "• *Governance Framework:*\n"
            "   - *Community Voting:* LA! Token holders can participate in key decisions that shape the platform's future.\n"
            "   - *Transparent Communication:* All proposals and governance decisions are shared openly through official channels.\n"
            "   - *Adaptive Policies:* Governance protocols evolve based on user feedback and emerging market trends.\n\n"
            "*Token Contract Address (CA):*\n`Bpz8btet2EVDzjjHZAaqwjTzE5p62H9Sb5RuKVNBpump`\n\n"
            "*Buy LA! Token:*\nhttps://pump.fun/coin/Bpz8btet2EVDzjjHZAaqwjTzE5p62H9Sb5RuKVNBpump"
        ),

        "technical innovation": (
            "FiLot and LA! Token are built on a foundation of technical innovation that bridges advanced AI with robust blockchain technology.\n\n"
            "• *AI-Driven Insights:* Machine learning algorithms analyze real-time data to identify high-yield investment opportunities.\n"
            "• *Automated Investment Strategies:* Simplifies the investment process by executing optimal moves automatically based on market conditions.\n"
            "• *Scalable Infrastructure:* Powered by the Solana blockchain, ensuring fast, secure, and cost-effective transactions as the platform scales.\n"
            "• *Integrated Ecosystem:* Seamlessly combines investment tools, governance mechanisms, and staking rewards into one unified platform."
        ),

        # --- Additional Fundamental Market Concepts ---
        "what is liquidity pool": (
            "A *liquidity pool* is a smart contract that holds funds—often in paired cryptocurrencies—to facilitate trading on decentralized exchanges.\n\n"
            "Key aspects include:\n"
            "• *Decentralized Trading:* Traders swap tokens directly against the pool instead of using a central order book.\n"
            "• *Earning Fees:* Liquidity providers earn a share of the trading fees proportional to their contribution.\n"
            "• *Risk Consideration:* Although liquidity pools can yield high returns, they also carry risks such as impermanent loss.\n\n"
            "By providing liquidity through FiLot, users can potentially earn far more than with traditional savings accounts."
        ),

        "impermanent loss": (
            "*Impermanent loss* (IL) occurs when the value of your deposited tokens changes relative to each other, "
            "resulting in a temporary loss compared to simply holding the tokens.\n\n"
            "Key points:\n"
            "• *Price Divergence:* IL happens when the relative prices of tokens in a pool diverge.\n"
            "• *Temporary Impact:* The loss is 'impermanent' because if prices return to their original levels, the loss is reversed.\n"
            "• *Mitigation Strategies:* FiLot's AI selects stable, high-liquidity pools to help minimize the risk of IL."
        ),

        # --- Basic and Mainstream Market Q&A ---
        "how to use filot": (
            "Using FiLot is straightforward:\n\n"
            "1. Start: Type /start to receive a comprehensive introduction to the platform.\n"
            "2. View Opportunities: Use /info to check real-time market data and discover investment opportunities.\n"
            "3. Simulate Earnings: Run /simulate [amount] to see potential returns based on current market conditions.\n"
            "4. Stay Updated: Subscribe with /subscribe to receive regular updates and insights.\n"
            "5. Ask Questions: Use /ask or simply type your question to get detailed answers about crypto investments and the FiLot platform.\n\n"
            "Note: Currently, FiLot is in beta mode—providing analysis and insights only. When the full platform launches, you will be able to invest with one click, either via Telegram or through the dedicated FiLot app. This means you could potentially earn far more than by placing your money in a traditional bank."
        ),

        "what is defi": (
            "*DeFi* stands for Decentralized Finance. It is a suite of financial services built on blockchain technology that operates without centralized intermediaries like banks.\n\n"
            "Through smart contracts, DeFi platforms allow users to lend, borrow, trade, and earn interest—often achieving returns significantly higher than those offered by traditional finance."
        ),

        "what is crypto": (
            "*Crypto* is short for cryptocurrency—a type of digital or virtual currency that uses cryptography for security.\n\n"
            "Cryptocurrencies operate on decentralized networks like blockchains, ensuring secure, transparent, and efficient transactions without the need for central authorities."
        ),

        "what is blockchain": (
            "*Blockchain* is a distributed ledger technology that records transactions across multiple computers in a secure, transparent, and immutable manner.\n\n"
            "It underpins cryptocurrencies and enables decentralized applications by ensuring that once data is recorded, it cannot be altered retroactively without consensus."
        ),

        "what are tokens": (
            "*Tokens* are digital assets created on a blockchain. They can represent various values or utilities—ranging from serving as a currency to granting access rights, rewards, or governance roles within a decentralized ecosystem."
        ),

        "what is ai": (
            "*AI*, or Artificial Intelligence, is a branch of computer science focused on creating systems capable of performing tasks that typically require human-like intelligence, such as decision-making, pattern recognition, and natural language processing."
        ),

        "how do i start investing": (
            "To start investing in crypto, begin by educating yourself on blockchain technology and market trends. With FiLot, type /start for an introduction, check current opportunities with /info, and simulate potential returns with /simulate. Always invest only what you can afford to lose and conduct thorough research before making any decisions."
        ),

        "how to read crypto charts": (
            "Crypto charts display key metrics such as price movements, trading volume, and market trends. Learning basic technical analysis can help you interpret these charts.\n\n"
            "FiLot simplifies this process by providing clear, real-time insights and analytics, making it easier for beginners to understand the market."
        ),

        "what is trading": (
            "*Trading* involves buying and selling assets with the goal of making a profit from price fluctuations.\n\n"
            "In the volatile crypto market, trading requires careful analysis and risk management—which is why FiLot offers analytics to help you make more informed decisions."
        ),

        "what is apr": (
            "*APR* (Annual Percentage Rate) represents the yearly interest rate earned or paid on an investment, excluding the effects of compounding.\n\n"
            "For liquidity pools, APR typically represents the annualized trading fees earned by liquidity providers. FiLot helps identify pools with competitive APRs."
        ),

        "what is apy": (
            "*APY* (Annual Percentage Yield) represents the total return on an investment over one year, including the effects of compound interest.\n\n"
            "Unlike APR, APY factors in compound interest, giving a more accurate picture of potential earnings in pools that auto-compound rewards."
        ),

        "compare bank interest": (
            "Traditional banks typically offer interest rates of 0.01% to 3% on savings accounts, while crypto investment opportunities can provide significantly higher returns—often ranging from 5% to over 100% APY depending on the risk profile.\n\n"
            "FiLot helps identify optimal investment opportunities with competitive APRs and lower risk factors, potentially multiplying your returns compared to traditional banking."
        ),

        "what can i ask": (
            "You can ask me about a wide range of topics, including:\n\n"
            "• FiLot platform features and benefits\n"
            "• LA! Token details, tokenomics, and use cases\n"
            "• Liquidity pools and DeFi concepts\n"
            "• Crypto investment strategies and opportunities\n"
            "• Basic blockchain and cryptocurrency concepts\n"
            "• APR, APY, and comparison with traditional finance\n"
            "• Platform roadmap, security, and governance\n\n"
            "Feel free to ask any specific questions, and I'll provide detailed, informative answers!"
        )
    }

def get_variations():
    """
    Return a dictionary mapping canonical queries to their variations.
    Variations are used to match user input to the appropriate response.
    """
    return {
        "what is filot": [
            "what is filot",
            "tell me about filot",
            "explain filot",
            "what does filot do",
            "how does filot work",
            "filot information",
            "what's filot",
            "what kind of platform is filot"
        ],
        "what is la token": [
            "what is la token",
            "la token information",
            "what's la token",
            "tell me about la token",
            "explain la token",
            "la token details"
        ],
        "what are la token's use cases": [
            "what are la token's use cases",
            "la token use cases",
            "la token utility",
            "what can la token do",
            "la token functions",
            "la token uses"
        ],
        "how can i benefit from la token": [
            "how can i benefit from la token",
            "benefits of la token",
            "advantages of la token",
            "what do i get from la token",
            "why should i buy la token"
        ],
        "what makes la token unique": [
            "what makes la token unique",
            "la token unique features",
            "why is la token special",
            "la token difference",
            "what's special about la token"
        ],
        "tell me about la token's launch": [
            "tell me about la token's launch",
            "la token launch",
            "when is la token launching",
            "la token release",
            "la token launch details"
        ],
        "when does filot launch": [
            "when does filot launch",
            "filot launch date",
            "when will filot be available",
            "filot release date",
            "when can i use filot"
        ],
        "what is the roadmap": [
            "what is the roadmap",
            "roadmap details",
            "future plans",
            "project timeline",
            "development roadmap"
        ],
        "security and governance": [
            "security and governance",
            "how secure is filot",
            "filot security",
            "filot governance",
            "how is filot governed"
        ],
        "technical innovation": [
            "technical innovation",
            "filot technology",
            "tech behind filot",
            "filot technical features",
            "filot innovations"
        ],
        "what is liquidity pool": [
            "what is liquidity pool",
            "explain liquidity pool",
            "liquidity pool definition",
            "how do liquidity pools work",
            "what are liquidity pools"
        ],
        "impermanent loss": [
            "impermanent loss",
            "what is impermanent loss",
            "explain impermanent loss",
            "il risk",
            "how to avoid impermanent loss"
        ],
        "how to use filot": [
            "how to use filot",
            "filot instructions",
            "filot user guide",
            "how to get started with filot",
            "filot tutorial"
        ],
        "what is defi": [
            "what is defi",
            "defi meaning",
            "explain defi",
            "decentralized finance",
            "defi definition"
        ],
        "what is crypto": [
            "what is crypto",
            "explain cryptocurrency",
            "crypto basics",
            "cryptocurrency 101",
            "what are cryptocurrencies"
        ],
        "what is blockchain": [
            "what is blockchain",
            "blockchain explanation",
            "how blockchain works",
            "blockchain technology",
            "blockchain basics"
        ],
        "what are tokens": [
            "what are tokens",
            "crypto tokens explained",
            "token vs coin",
            "digital tokens",
            "tokens in crypto"
        ],
        "what is ai": [
            "what is ai",
            "ai explanation",
            "artificial intelligence",
            "ai in crypto",
            "how does ai work"
        ],
        "how do i start investing": [
            "how do i start investing",
            "how to start investing",
            "investment basics",
            "crypto investing start"
        ],
        "how to read crypto charts": [
            "how to read crypto charts",
            "reading crypto charts",
            "understanding crypto charts"
        ],
        "what is trading": [
            "what is trading",
            "explain trading",
            "what does trading mean"
        ],
        "what is apr": [
            "what is apr",
            "explain apr",
            "annual percentage rate"
        ],
        "what is apy": [
            "what is apy",
            "explain apy",
            "annual percentage yield"
        ],
        "compare bank interest": [
            "compare bank interest",
            "bank interest rates vs crypto",
            "traditional bank interest comparison"
        ],
        "what can i ask": [
            "what can i ask",
            "what questions can i ask",
            "what should i ask",
            "help me ask",
            "what topics can i ask about"
        ],
    }

def get_predefined_response(query):
    """
    Retrieve a predefined response based on the user's query using enhanced matching.
    The matching logic checks for direct keys, variations, and keyword combinations.
    """
    query_lower = query.lower().strip("?!.,")

    responses = get_predefined_responses()
    variations = get_variations()

    # Check for single-word queries using key terms
    key_terms = {
        'la': 'what is la token',
        'filot': 'what is filot',
        'token': 'what is la token',
        'roadmap': 'what is the roadmap',
    }
    if query_lower in key_terms:
        return responses.get(key_terms[query_lower])

    # Check for exact matches
    if query_lower in responses:
        return responses[query_lower]

    # Check in variations (exact match or substring match)
    for canonical, variant_list in variations.items():
        if query_lower in variant_list:
            return responses.get(canonical)
        if any(variant in query_lower for variant in variant_list):
            return responses.get(canonical)

    # Check for keyword combinations
    keyword_combinations = {
        ('how', 'start'): 'how to use filot',
        ('what', 'pool'): 'what is liquidity pool',
        ('what', 'apr'): 'what is apr',
        ('impermanent', 'loss'): 'impermanent loss',
        ('who', 'you'): 'what is filot',
        ('what', 'ask'): 'what can i ask'
    }
    for keywords, response_key in keyword_combinations.items():
        if all(keyword in query_lower for keyword in keywords):
            return responses.get(response_key)

    # Fallback: return None if no match is found
    return None

# Example usage (for testing purposes)
if __name__ == "__main__":
    sample_queries = [
        "What is FiLot?",
        "Tell me about LA!",
        "How do I start investing?",
        "Explain impermanent loss"
    ]
    for q in sample_queries:
        print("Query:", q)
        print("Response:", get_predefined_response(q))
        print("-" * 50)